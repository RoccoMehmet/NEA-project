import tweepy
from textblob import TextBlob
import pandas as pd
import re

celebaccounts =["BarackObama","justinbieber","katyperry","rihanna","Cristiano","taylorswift13","ladygaga","elonmusk","TheEllenShow","KimKardashian","selenagomez","jtimberlake","BillGates","neymarjr","britneyspears","ddlovato","shakira","jimmyfallon","KingJames","imVkohli","SrBachchan","MileyCyrus","JLo","akshaykumar","BeingSalmanKhan","Oprah","BrunoMars","iamsrk","NiallOfficial","KylieJenner","Drake","Harry_Styles","sachin_rt","KevinHart4real","wizkhalifa","Louis_Tomlinson","LilTunechi","KendallJenner","chrisbrown","Pink","iHrithik","onedirection","zaynmalik","kanyewest","aliciakeys","khloekardashian","KAKA","ConanOBrien","priyankachopra","deepikapadukone","Adele","ShawnMendes","kourtneykardash","MesutOzil1088","ActuallyNPH","andresiniesta8","pitbull","NICKIMINAJ","danieltosh","arrahman","coldplay","AnushkaSharma","virendersehwag","Eminem","MariahCarey","MichelleObama","aliaa08","Zendaya","AvrilLavigne","10Ronaldinho","ImRo45","Dr_alqarnee","3gerardpique","ricky_martin","davidguetta","SnoopDogg","ImRaina","blakeshelton","AlejandroSanz","AnupamPkher","KDTrey5","LeoDiCaprio","MohamadAlarefe","StephenAtHome","KapilSharmaK9","SergioRamos","jamesdrodriguez","JimCarrey","GarethBale11","shugairi","agnezmo","edsheeran","karanjohar","RobertDowneyJr","FALCAO","WayneRooney","aplusk","DaniloGentili","ivetesangalo","LuisSuarez9","ParisHilton","xtina","tomhanks","TheRock","theweeknd","StephenCurry30","elissakh","Asli_Jacqueline","RafaelNadal","SHAQ","radityadika","juniorbachchan","ChrisEvans","NancyAjram","shahidkapoor","Beyonce","paulocoelho","CMYLMZ","ajaydevgn","ZacEfron","daddy_yankee","aguerosergiokun","kobebryant","RyanSeacrest","mangeshkarlata","Benzema","camerondallas","gusttavo_lima","rickygervais","RealHughJackman","neiltyson","ClaudiaLeitte","felipeneto","ParineetiChopra","annecurtissmith","vicegandako","ShraddhaKapoor","BigSean","maroon5","Alwaleed_Talal","JColeNC","nickjonas","jk_rowling","D_DeGea","marcosmion","johnlegend","SethMacFarlane","TreySongz","JohnCena","LucianoHuck","sonamakapoor","salman_alodah","143redangel","rogerfederer","richardbranson","FarOutAkhtar","chetan_bhagat","5SOS","50cent","stephenfry","ashleytisdale","MarceloM12","thekiranbedi","Carles5puyol","KrisJenner","SarahKSilverman","iamwill""Usher","LunaMaya26","CalvinHarris","jimmykimmel","LittleMix","victoriabeckham","luansantana","MustafaHosny","Trevornoah","ciara","XabiAlonso","kendricklamar","mindykaling","amrdiab","juanes","Tatawerneck","EugenioDerbez","Ludacris","rafinhabastos","rioferdy5","MarcAnthony","Riteishd","amrkhaled","MeekMill","rustyrockets","billmaher","JKCorden","SimonCowell","RNTata2000","serenawilliams","Pharrell","maddow","JBALVIN","bernardokath","Ricardo_Arjona","BruMarquezine","QueenRania","cuervotinelli","Luke5SOS","JoelOsteen","Michael5SOS","azizansari","andersoncooper","cesc4official","joejonas","TareqAlSuwaidan","davidbisbal","VictoriaJustice","ToniKroos","realwbonner","Anahi","jorgeemateus","thalia","LuisFonsi","DwyaneWade","carlyraejepsen","AdamSchefter","Caradelevingne","Persie_Official","DaniAlvesD2","Sethrogen","carmeloanthony","CHAYANNEMUSIC","montanertwiter","raisa6690","MarceloTas","MirzaSania","Tip","imdanielpadilla","CarlosLoret","FabioPorchat","anandmahindra","DjokerNole","sardesairajdeep","AustinMahone","troyesivan","SamuelLJackson","marcoluque","bhogleharsha","Guaje7Villa","CH14_","matsu_bouzu","DavidLuiz_4","SteveMartinToGo","MonsieurDream","LuceroMexico","mcuban","jessicaalba","IBGDRGN","najwakaram","SofiaVergara","vidialdiano","ABdeVilliers17","MartinGarrix","GaryLineker","RaffiAhmadLagi","CP3","msdhoni","lindsaylohan","abdulrahman","steveaoki","carrieunderwood","JessieJ","Mascherano","prattprattpratt","NajwaShihab","Ibra_official","lopezdoriga","IAMQUEENLATIFAH","HamzaNamira","juanmata8","piersmorgan","MacMiller","shrutihaasan","adamlevine","FloydMayweather","chelseahandler","channingtatum","Zedd","JeremyClarkson","IGGYAZALEA","ariyoshihiroiki","gadelmaleh","JuanLuisGuerra","TripleH","GordonRamsay","JHarden13","SpiderAnderson","iamsuperbianca","KadimAlSahirORG","aristeguicnn","OMARCHAPARRO","SamiAlJaber","YengPLUGGEDin","fayez_malki","DebbouzeJamel","amrwaked","waleedalfarraj","GalileaMontijo","cuneytozdemir","hollywills","robkardashian","LewisHamilton","HaifaWehbe","paugasol","7sainaljassmi","BDUTT","HARDWELL","hazardeden10","shreyaghoshal","DulceMaria","iansomerhalder","Calum5SOS","ninadobrev","raphaelvarane","AnnaKendrick47","MissyElliott","MirandaCosgrove","NormanDesVideos","TheFarahKhan","Khunnie0624","brozoxmiswebs","KELLYROWLAND","okanbayulgen","VhongX44","atademirer","LMFAO","EvaLongoria","russwest44","antanddec","CodySimpson","mirandalambert","alexoficial","DemetAkalin","Fearnecotton","jimmycarr","lucyhale","TomCruise","ScottDisick","VanessaHudgens","bipsluvurself","TigerWoods","Bourdain","belindapop","Talhabeeb","PrinceRoyce","tylerperry","SandraDewi88","bellathorne,","RitaOra","CherLloyd","manugavassi","G_Higuain","NeYoCompound","TheShilpaShetty","jccaylen","DwightHoward","elliegoulding","Wale","ElBaradei","JoyceMeyer","Nashgrier","jack","Ashton5SOS","RandyOrton","Residente","dannapaola","raghebalama","JessicaSimpson","oserginho","Akon","maryjblige","ChespiritoRGB","ahickmann","jackwhitehall","dylanobrien","BillNye","kasimf","battalalgoos","kevadamsss","lulopilato","Metallica","ayushmannk","ImZaheer","Cyrilhanouna","SandyLeah","acunilicali","Skrillex","aarbeloa17","snooki","danawhite","linkinpark","krungy21","micheltelo","bclsinclair","MikeTyson","ZooeyDeschanel","realpreityzinta","TheVijayMallya","paulitachaves","YUVSTRONG12","brunogagliasso","JohnCleese","ahmethc","icecube","booba","BillSimmons","Imaginedragons","MsLeaSalonga","haashoficial","simonpegg","CherylOfficial","stephenasmith","Bellaudyaa","ValeYellow46","PretaGil","silagencoglu","AndreaLegarreta","kerrywashington","chrisrock","jennettemccurdy","PerezHilton","SteveCarell","souljaboy","bomanirani","vjdaniel","isco_alarcon","itsenriquegil","rodrigovesgo","Fiuk","luckymanzano","DollyParton","common","OzzyOsbourne","djkhaled","paramore","LeventUzumcu","tyleroakley","donghae861015","DONOMAR","carlosvives","jason_mraz","geneliad","lenadunham","jesseyjoy","MagicJohnson","kevinjonas","marley_ok","gabyespino","facufacundo","Lord_Sugar","Schwarzenegger","GNev2","shfly3424","thiaguinhocomth","jessicacediel","DiegoForlan7","farisf9","Caspar_Lee","pamyurin","NicoleScherzy","GloriaTrevi","wisinyyandel","k_alshenaif","Poconggg","alyankovic","INDONESIAinLOVE","llcoolj","PochoLavezzi","BSchweinsteiger","juliaperrez","sethmeyers","Adela_Micha","wossy","MirandaKerr","OlaAlfares","CAROLE_SAMAHA","Tyga","samuelmilby","GreenDay","henrygayle","pedroalfonsoo","usainbolt","_Pedro17_","official_flo","heidiklum","Joe_Sugg","RomeoSantosPage","manuginobili","pattonoswalt","angelicaksy","thekillers","LennyKravitz","tiesto","LuisChataing","olla_ramlan","BethanyMota","polo_polo","TomCavalcante1","steveaustinBSR","ANAMARIABRAGA","lafouine78","alinebarros","IrfanBachdim10","IAmSteveHarvey","NickCannon","bep","mustafa_agha","iamjamiefoxx","lala","gitagut","johngreen","syntekoficial","giseleofficial","LAURAGII","yokoono","LAAZCARATE","tonyhawk","gadiiing","NOAH_ID","FifthHarmony","esmuellert_","HilaryDuff","TimTebow","PaulaFernandes7","ChinoyNacho","NoelSchajris","Schofe","rampalarjun","itsgabrielleu","DrakeBell","oscar8","rainnwilson","zoetheband","diegotorres","amyschumer","justdemi","KyrieIrving","officialJKT48","JonahHill","urgantcom","UncleRUSH","special1004","FePaesLeme","dedesecco","iyavillania","eddieizzard","JerrySeinfeld","twhiddleston","sectorkekz","ErikaDLV","yilmazerdogan","BradPaisley","anakarylle","gulbenergen","corbuzier","psy_oppa","julietav","AlvaroMorata","nicolerichie","DannyDeVito","paulwesley","PaulMcCartney","KeriHilson","MarioGoetze","YordiRosado","mynameisrossa","bridgitmendler","Titi_KamaLL","mrsayudewi","RealVolya","gio_antonelli","RolaWorLD","KeithUrban","Thiago6","jaimecamil","kuyakim_atienza","solennheussaff","SintoniaVerso","MikaSingh","myfabolouslife","Su_Gimenez","mh_awadi","tarkan","Tbambino","IanMcKellen","Fonseca","GaryBarlow","indrabektiasli","hulyavsar","GaryValenciano1","ilovegeorgina","21LVA","paulpierce34","ShawnMichaels","KevinSpacey","hitRECordJoe","cher","ReikMx","IAMJHUD","AxelOficial","JanetJackson","AHMTKURAL","chinasuarez","Manuel_Neuer","AshBenzo","DebbyRyan","TurkiAldakhil","mustafaceceli","Javier_Alatorre","katedelcastillo","RevRunWisdom","sneijder101010","BustaRhymes","luisnani","GemmaAnneStyles","KP24","DrOz","apriliokevin","Anggun_Cipta","FLOTUS","belalfadl","thebeatles","nikkigil","DaRealAmberRose","10neto","Fergie","JoeyGraceffa","wyclef","pabloalboran","LisaSurihani","themichaelowen","lorenzojova","TheVampsband","Nelly_Mo","Jason_Aldean","jasonderulo","MuratBoz","susoelpaspi","ShaneWarne","PrincesSyahrini","YosriFouda","DJPaulyD","scooterbraun","RealLamarOdom","AndreaSernaTV","PBiaL","notch","Torres","Alyssa_Milano","MoezMasoud","Buenafuente","assihallani","IAmJericho","eseryenenler","CaioCastro","JordinSparks","Slash","HayesGrier","andy_murray","officialpepe","RachelZoe","FinallyMario","PearlJam","ChrisMoyles","JohnBishop100","MarthaStewart","jhongsample","handeyener","JAlvarezFlow","henrylau89","rialjorge","questlove","deadmau5","Caitlyn_Jenner","michkeegan","OfficialWillow","Podolski10","cerati","jackybrv","OficialGio","cortezrafa","Hadise","LizGillies","KellyOsbourne","lopezandres","andreolifelipe","jimjonescapo","xtianbautista","RobertsEmma","TheRealMikeEpps","NathanFillion","bigtimerush","joelmchale","LaraDutta","SSantiagosegura","D_Ospina1","vazqueznico","DAVID_LYNCH","EspinozaOficial","ochocinco","AnselElgort","4everBrandy","AdnanAlarour","noaheverett","JimGaffigan","MCHammer","YALINonline","JodiStaMaria","jotaquest","DeepakChopra","TomFelton","MrJamesMay","KeshaRose","McIlroyRory","emreaydin","andrescepeda","JoshDevineDrums","TonyRobbins","OneRepublic","cala","robertmarion","germanpaoloski","ActorLeeMinHo","BoAkwon","galifianakisz","JoeyEssex_","MrPeterAndre","pattiemallette","lancearmstrong","desta80s","EmilyOsment","kojiharunyan","ninagarcia","ThatKevinSmith","DennyCagur","JENNIWOWW","alo_oficial","RichardHammond","robdyrdek","XianLimm","woodyinho","FrencHMonTanA","iloveruffag","OscarFilho","drdre","masason","shaymitch","sertaberener","FatinSL","officialtulisa","VincentKompany","NellyFurtado","Yusuf_Mansur","GiulianaRancic","willylevy29","sebastianrulli","jamesmaslow","VeraBrezhneva","manomenezes","jackgilinsky","Joey7Barton","neilhimself","Tyrese","SeanKingston","LaurenConrad","shymofficiel","OscarDLeon","MarcusButler","TravieMcCoy","Flordelav","JakeTAustin","Charlottegshore","therealjuicyj","sgokbakar","AllRiseSilver","SaraBareilles","brookeburke","iqbaale","VINNYGUADAGNINO","Garik2000","DavidSpade","FannyLu","LeighFrancis","EleanorJCalder","1LoganHenderson","DaneCook","showimah","RyanSheckler","ristomejide","wilw","CMPunk","markhoppus","ThisisDavina","manaoficial","AdalRamones","radioleary","ErinAndrews","dhikacungkring","xuxameneghel","Niltakipte","ReggieBush","smosh","RebelWilson","biz","mariagadu","MarkWright_","drdrew","feliciaday","CraigyFerg","angelicavale","kenandogulu","carterreynolds","SteveNash","amandabynes","TheCarlosPena","DavidHenrie","gisel_la","drose","aaronpaul_8","carlosbaute","zairana","greysonchance""hardwick","robbiewilliams","Omar_Almulhem","TheRealAC3","AlfredoFlores","sarseh","danimartinezweb","BIRDMAN5STAR","AdelAliBinAli","mnzadornov","Dbolina","lottietommo","mariko_dayo","SamNasri19","DaniellePeazer","jimmyeatworld","kingsthings","MrsSOsbourne","adamlambert","omeshomesh","SleepintheGardn","TheMandyMoore","NathanKress","RealPaulWalker","danisuzuki","Fabio_Coentrao","TomDaley1994","bobsaget","jhutch1992","Stromae","SeppBlatter","nxzerooficial","shitmydadsays","macklemore","jeremypiven","KendraWilkinson","kylieminogue","ashleesimpson","JeremyBieber","depechemode","HeffronDrive","mariashriver","chriscolfer","michaelbuble","DENISE_RICHARDS","ayseozyilmazel","6BillionPeople","williebosshog","jasonsegel","williecolon","PaulaAbdul","Dynamomagician","KatGraham","AudrinaPatridge","luke_brooks","JackHarries","elmorenomichael","Angelluisr","AlbertoCiurana","D_Copperfield","BRUNOIERULLO","dumbassgenius","DavidKWilliams","ceracoat","drangelocarbone","VigilanteArtist","DjKingAssassin","bonnovanderputt","siyovushdustov","ryeong9","mishari_alafasy","Real_Liam_Payne","iamdiddy","sonunigam","kc_concepcion","MaiteOficial","bepe20s","rossR5","FarrukoPR","JamesFrancoTV","TherealTaraji","sonakshisinha","jupaesoficial","tonyhsieh","WWEDanielBryan","smoshanthony","paurubio","KattPackAllDay","LukeBryanOnline","ladyantebellum","cadieckmann","YASSER_Q_Y20","SabrinaSatoReal","soujorge","FrancoDVita","1victorvaldes","shireensungkar","afgansyah_reza","AlanCarr","_CristineReyes_","Ferrynimous","AlKohler7KEPO","ArianaGrande","EmWatson","aamir_khan","tyrabanks","kelly_clarkson","sherinasinna","enrique305","ollyofficial","jedarcantik","MTLovenHoney","pittyleone","oceara","LanaDelRey","officialjaden","DrBassemYoussef","lilyallen","Ahlam_Alshamsi","CasillasWorld","RedHourBen","siwon407","TiagoLeifert","msleamichele","yelyahwilliams","montesjulia","BillCosby","lordemusic","Jenna_Marbles","samsmithworld","FreddyAmazin","TheMattEspinosa","blakegriffin32","laliespos","missA_suzy","MPOFFICIAL","S_C_","RealTracyMorgan","rickyrozay","huryazarlar","lnsaneTweets","mark_wahlberg","PointlessBlog","Elovera22","marceloadnet0","carocruzosorio","fucktyler","JackJackJohnson","MannyPacquiaoTR","MsLaurenLondon","wandaicardi","S1dharthM","superstarrajini","MikeVick"]


consumerKey = "f0jjVrqW3rdBVaAbzwRR9KQUt"
consumerSecret = "vBS3WH923lEkkWyxVJVCRTJAVq1QeWcSBzMBykWx3l1vrTiVir"
accessToken = "1574053507874918400-ZU89XMpaImwt0pbcRm8WGGbykT41E0"
accessTokenSecret = "SlAlXPIOa919Cbcue464MobIR5kk3150TlGSVlksFnZao"

authenticate = tweepy.OAuthHandler(consumerKey, consumerSecret)
authenticate.set_access_token(accessToken, accessTokenSecret)
api = tweepy.API(authenticate, wait_on_rate_limit = True)

a = []
celeblist = []
poscount = 0
negcount = 0
neutralcount = 0

def cleartweets(text):
  text = re.sub(r'@[A-Za-z0-9]+', '', text)
  text = re.sub(r'#', '', text)
  text = re.sub(r'RT[\s]+', '', text)
  text = re.sub(r'https?:\/\/\S+', '', text)
  text = re.sub(r'\n', '', text)
  return text

def subjectivity(text):
  return TextBlob(text).sentiment.subjectivity
  
def polarity(text):
  return TextBlob(text).sentiment.polarity

def analysis(score):
  if score < 0:
    return("Negative")
  elif score == 0:
    return("Neutral")
  else:
    return("Positive")

for item in celebaccounts:
  posts = api.user_timeline(screen_name = item, count= 100, tweet_mode= "extended")
  df = pd.DataFrame( [tweet.full_text for tweet in posts] , columns=['Tweets'])
  df['Tweets']= df['Tweets'].apply(cleartweets)
  df['Subjectivity']= df['Tweets'].apply(subjectivity)
  df['Polarity']= df['Tweets'].apply(polarity)
  df['Analysis']= df['Polarity'].apply(analysis)
  sortedDF = df.sort_values(by=['Polarity'])

  for i in range(0, sortedDF.shape[0]):
    if(sortedDF['Analysis'][i] == 'Positive'):
      poscount += 1
    if(sortedDF['Analysis'][i] == 'Negative'):
      negcount += 1
    if(sortedDF['Analysis'][i] == 'Neutral'):
      neutralcount += 1
      
  a = [item, poscount, negcount, neutralcount]
  celeblist.append(a)

  poscount = 0
  negcount = 0
  neutralcount = 0
  print(celeblist)
